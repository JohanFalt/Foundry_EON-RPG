<div class="item-box">    
    <div class="large-headline">Försvar</div>
    <div class="attribute item-row">
        <div class="three-column item-row">
            <div class="headline">{{actor.system.skada.forsvar.namn}}</div>
            <div class="dice-value">{{getDiceValue actor.system.skada.forsvar.grund}}</div>
            <div class="skill-icon">
                <a class="item-edit" title="Editera grundskada" data-type="skada" data-attribute="forsvar">
                    <i class="icon fa-solid fa-pen-to-square"></i>
                </a>
            </div>
        </div> 
    </div>
    {{#if (ne actor.system.skada.forsvar.anteckning "")}}
        <div class="information-area information-box">{{actor.system.skada.forsvar.anteckning}}</div>
    {{/if}}    
</div>

<div class="item-box">

    <div class="large-headline">Vapen</div>

    <div class="headline headline-background item-row">    
        <div class="weapon-icon pointer">
            <a class="item-create" title="Lägg till vapen" data-type="närstridsvapen">
                <i class="fa-solid fa-square-plus green"></i>
            </a>
        </div>    
        <div style="width: 150px;">Närstridsvapen</div>

        <div class="centerText" style="width: 60px;">Träffa</div>

        <div class="centerText" style="width: 50px;">Hugg</div>
        <div class="centerText" style="width: 50px;">Kross</div>
        <div class="centerText" style="width: 50px;">Stick</div>
        <div style="margin-left: 50px;">Egenskaper</div>
    </div>   

    {{#each actor.system.listdata.vapen.narstrid as | vapen key|}}
        <div class="item-row" style="line-height: 25px; width:100%;">
            <div class="weapon-icon"><a class="item-edit" title="Editera vapen" data-source="weapon" data-itemid="{{vapen._id}}"><i class="icon fa-solid fa-pen-to-square"></i></a></div>
            <div class="vrollable" style="width: 150px;" data-source="weapon" data-itemid="{{vapen._id}}">{{vapen.name}}</div>

            <div class="centerText number-value-text" style="width: 60px;">{{getDiceValue vapen.system.traffa}}</div>        

            <div class="centerText number-value-text" style="width: 50px;">{{#if (eq vapen.system.hugg.aktiv false)}}-{{else}}{{getDiceValue (addDiceValues vapen.system.hugg ../actor.system.harleddegenskaper.grundskada.totalt)}}{{/if}}</div>
            <div class="centerText number-value-text" style="width: 50px;">{{#if (eq vapen.system.kross.aktiv false)}}-{{else}}{{getDiceValue (addDiceValues vapen.system.kross ../actor.system.harleddegenskaper.grundskada.totalt)}}{{/if}}</div>
            <div class="centerText number-value-text" style="width: 50px;">{{#if (eq vapen.system.stick.aktiv false)}}-{{else}}{{getDiceValue (addDiceValues vapen.system.stick ../actor.system.harleddegenskaper.grundskada.totalt)}}{{/if}}</div>
            
            <div class="number-value-text" title="{{getPropertyList vapen.system.egenskaper}}" style="margin-left: 50px;">{{shorten (getPropertyList vapen.system.egenskaper) 50 false}}</div>                        
        </div>
    {{/each}}
    
    <div class="headline headline-background item-row">        
        <div class="weapon-icon pointer">
            <a class="item-create" title="Lägg till avståndsvapen" data-type="avståndsvapen">
                <i class="fa-solid fa-square-plus green"></i>
            </a>
        </div>
        <div style="width: 150px;">Avståndsvapen</div>
        <div class="centerText" style="width: 60px;">Träffa</div>
        <div class="centerText" style="width: 100px;">Skada</div>
        <div class="centerText" style="width: 100px;">Räckvidd</div>
        <div>Egenskaper</div>
    </div>   

    {{#each actor.system.listdata.vapen.avstand as | vapen key|}}
        <div class="item-row" style="line-height: 25px; width:100%;">
            <div class="weapon-icon"><a class="item-edit" title="Editera vapen" data-source="weapon" data-itemid="{{vapen._id}}"><i class="icon fa-solid fa-pen-to-square"></i></a></div>
            <div class="vrollable" style="width: 150px;" data-source="weapon" data-itemid="{{vapen._id}}">{{vapen.name}}</div>
            <div class="centerText number-value-text" style="width: 60px;">{{getDiceValue vapen.system.traffa}}</div>        
            <div class="centerText number-value-text" style="width: 100px;">{{getDiceValue vapen.system.skada}} {{{getWeaponDamageType ../EON.CONFIG.vapenskador vapen.system.skadetyp}}}</div>
            <div class="centerText number-value-text" style="width: 100px;">{{{getRange ../EON.CONFIG.vapenavstand vapen.system.rackvidd}}}</div>
            <div class="number-value-text" title="{{getPropertyList vapen.system.egenskaper}}">{{shorten (getPropertyList vapen.system.egenskaper) 50 false}}</div>                        
        </div>
    {{/each}}
</div>

<div class="item-box"> 
    <div class="skill-area">
        <div class="headline skill-row skill">
            <div class="three-column centerText">Skada</div><div class="three-column centerText">Utm.</div><div class="three-column centerText">Vändning</div>
        </div>
        <div class="skill-row skill">
            <div class="three-column centerText number-value-text">1-4</div><div class="three-column centerText number-value-text">+1</div><div class="three-column centerText number-value-text">-</div>
        </div>
        <div class="skill-row skill">
            <div class="three-column centerText number-value-text">5-9</div><div class="three-column centerText number-value-text">+2</div><div class="three-column centerText number-value-text">-</div>
        </div>
        <div class="skill-row skill">
            <div class="three-column centerText number-value-text">10-14</div><div class="three-column centerText number-value-text">+4</div><div class="three-column centerText number-value-text">1T10</div>
        </div>
        <div class="skill-row skill">
            <div class="three-column centerText number-value-text">15-19</div><div class="three-column centerText number-value-text">+6</div><div class="three-column centerText number-value-text">1T10</div>
        </div>
        <div class="skill-row skill">
            <div class="three-column centerText number-value-text">20-24</div><div class="three-column centerText number-value-text">+8</div><div class="three-column centerText number-value-text">1T10</div>
        </div>
        <div class="skill-row skill">
            <div class="three-column centerText number-value-text">25-29</div><div class="three-column centerText number-value-text">+10</div><div class="three-column centerText number-value-text">1T10</div>
        </div>
        <div class="skill-row skill">
            <div class="three-column centerText number-value-text">30-34</div><div class="three-column centerText number-value-text">+12</div><div class="three-column centerText number-value-text">1T10</div>
        </div>
        <div class="skill-row skill">
            <div class="three-column centerText number-value-text">35-39</div><div class="three-column centerText number-value-text">+14</div><div class="three-column centerText number-value-text">1T10</div>
        </div>
        <div class="skill-row skill">
            <div class="three-column centerText number-value-text">40-44</div><div class="three-column centerText number-value-text">+16</div><div class="three-column centerText number-value-text">1T10</div>
        </div>
        <div class="skill-row skill">
            <div class="three-column centerText number-value-text">(+5)</div><div class="three-column centerText number-value-text">(+2)</div><div class="three-column centerText number-value-text">(...)</div>
        </div>
    </div>
</div>